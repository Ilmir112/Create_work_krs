name: Build PyInstaller
on:  ['push', 'pull_request']
jobs:
  build:
    runs-on: windows-latest
    steps:
      - uses: actions/checkout@v3
      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.8' # Замените на нужную версию Pyth on

      - name: Install PyInstaller
        run: pip install pyinstaller
#      - name: Install requirements
#        run: pip install -r requirements.txt
      - name: Build executable
        run:
#          pyinstaller --noconfirm --onedir --windowed
          pyinstaller --noconfirm --onedir --windowed --add-data "D:/python/Create_work_krs/work_py;work_py/" --add-data "D:/python/Create_work_krs/users;users/" --add-data "D:/python/Create_work_krs/property_excel;property_excel/" --add-data "D:/python/Create_work_krs/imageFiles;imageFiles/" --add-data "D:/python/Create_work_krs/gnkt_data;gnkt_data/" --add-data "D:/python/Create_work_krs/data_base;data_base/" --add-data "D:/python/Create_work_krs/work_json.py;." --add-data "D:/python/Create_work_krs/well_data.py;." --add-data "D:/python/Create_work_krs/selectPlast.py;." --add-data "D:/python/Create_work_krs/proverka.py;." --add-data "D:/python/Create_work_krs/prov.py;." --add-data "D:/python/Create_work_krs/plan23.py;." --add-data "D:/python/Create_work_krs/plan.py;." --add-data "D:/python/Create_work_krs/perforation_correct_gnkt_frez.py;." --add-data "D:/python/Create_work_krs/perforation_correct.py;." --add-data "D:/python/Create_work_krs/open_pz.py;." --add-data "D:/python/Create_work_krs/main.py;." --add-data "D:/python/Create_work_krs/krs.py;." --add-data "D:/python/Create_work_krs/H2S.py;." --add-data "D:/python/Create_work_krs/gnkt_opz.py;." --add-data "D:/python/Create_work_krs/gnkt_after_grp.py;." --add-data "D:/python/Create_work_krs/find.py;." --add-data "D:/python/Create_work_krs/data_correct_position_people.py;." --add-data "D:/python/Create_work_krs/data_correct.py;." --add-data "D:/python/Create_work_krs/convert_xls.py;." --add-data "D:/python/Create_work_krs/cdng.py;." --add-data "D:/python/Create_work_krs/category_correct.py;." --add-data "D:/python/Create_work_krs/build_script.py;." --add-data "D:/python/Create_work_krs/block_name.py;." --add-data "D:/python/Create_work_krs/application_pvr.py;." --add-data "D:/python/Create_work_krs/application_gis.py;." --add-data "D:/python/Create_work_krs/data_base/database_without_juming.db;." --add-data "D:/python/Create_work_krs/data_base/work_with_base.py;." --add-data "D:/python/Create_work_krs/data_base/users_database/databaseWell.db;." --add-data "D:/python/Create_work_krs/data_base/users_database/users.db;." --add-data "D:/python/Create_work_krs/data_base/data_base_well/database_well.py;." --add-data "D:/python/Create_work_krs/data_base/data_base_well/databaseWell.db;." --add-data "D:/python/Create_work_krs/data_base/users_database/databaseWell.db;." --add-data "D:/python/Create_work_krs/data_base/users_database/users.db;." --add-data "D:/python/Create_work_krs/gnkt_data/gnkt_data.py;." --add-data "D:/python/Create_work_krs/imageFiles/Алиев Заур.png;." --add-data "D:/python/Create_work_krs/imageFiles/Алиев махир.png;." --add-data "D:/python/Create_work_krs/imageFiles/Зуфаров.png;." --add-data "D:/python/Create_work_krs/imageFiles/Хасаншин.png;." --add-data "D:/python/Create_work_krs/imageFiles/Шамигулов.png;." --add-data "D:/python/Create_work_krs/imageFiles/schema_well/column.png;." --add-data "D:/python/Create_work_krs/imageFiles/schema_well/gorizont_1.png;." --add-data "D:/python/Create_work_krs/imageFiles/schema_well/gorizont_12.png;." --add-data "D:/python/Create_work_krs/imageFiles/schema_well/port.png;." --add-data "D:/python/Create_work_krs/imageFiles/schema_well/кабель.png;." --add-data "D:/python/Create_work_krs/imageFiles/schema_well/нарушение.png;." --add-data "D:/python/Create_work_krs/imageFiles/schema_well/НКТ с воронкой.jpg;." --add-data "D:/python/Create_work_krs/imageFiles/schema_well/НКТ с воронкой.png;." --add-data "D:/python/Create_work_krs/imageFiles/schema_well/НКТ с пакером.png;." --add-data "D:/python/Create_work_krs/imageFiles/schema_well/открытый ствол.png;." --add-data "D:/python/Create_work_krs/imageFiles/schema_well/пакер.png;." --add-data "D:/python/Create_work_krs/imageFiles/schema_well/ПВР.png;." --add-data "D:/python/Create_work_krs/imageFiles/schema_well/переход.png;." --add-data "D:/python/Create_work_krs/imageFiles/schema_well/пропант.png;." --add-data "D:/python/Create_work_krs/imageFiles/schema_well/СХЕМЫ КНК_38,1.png;." --add-data "D:/python/Create_work_krs/imageFiles/schema_well/СХЕМЫ КНК_44,45.png;." --add-data "D:/python/Create_work_krs/imageFiles/pvo/oil/схема №1.jpg;." --add-data "D:/python/Create_work_krs/imageFiles/pvo/oil/схема №2.jpg;." --add-data "D:/python/Create_work_krs/imageFiles/pvo/oil/схема №3.jpg;." --add-data "D:/python/Create_work_krs/imageFiles/pvo/oil/схема №4.jpg;." --add-data "D:/python/Create_work_krs/imageFiles/pvo/oil/схема №5.jpg;." --add-data "D:/python/Create_work_krs/imageFiles/pvo/oil/схема №6.jpg;." --add-data "D:/python/Create_work_krs/imageFiles/pvo/oil/схема №7.jpg;." --add-data "D:/python/Create_work_krs/imageFiles/pvo/oil/схема №7а.jpg;." --add-data "D:/python/Create_work_krs/imageFiles/pvo/oil/схема №8.jpg;." --add-data "D:/python/Create_work_krs/imageFiles/pvo/oil/схема №8а.jpg;." --add-data "D:/python/Create_work_krs/imageFiles/pvo/oil/схема №8б.jpg;." --add-data "D:/python/Create_work_krs/property_excel/property_excel_pvr.py;." --add-data "D:/python/Create_work_krs/property_excel/template_gis.xlsx;." --add-data "D:/python/Create_work_krs/property_excel/template_pvr.xlsx;." --add-data "D:/python/Create_work_krs/property_excel/tepmpale_gnkt_osv_grp.xlsx;." --add-data "D:/python/Create_work_krs/users/login_users.py;." --add-data "D:/python/Create_work_krs/work_py/acid_paker.py;." --add-data "D:/python/Create_work_krs/work_py/acids.py;." --add-data "D:/python/Create_work_krs/work_py/advanted_file.py;." --add-data "D:/python/Create_work_krs/work_py/alone_oreration.py;." --add-data "D:/python/Create_work_krs/work_py/calc_fond_nkt.py;." --add-data "D:/python/Create_work_krs/work_py/change_fluid.py;." --add-data "D:/python/Create_work_krs/work_py/claySolution.py;." --add-data "D:/python/Create_work_krs/work_py/data_informations.py;." --add-data "D:/python/Create_work_krs/work_py/descent_gno.py;." --add-data "D:/python/Create_work_krs/work_py/dop_plan_py.py;." --add-data "D:/python/Create_work_krs/work_py/drilling.py;." --add-data "D:/python/Create_work_krs/work_py/emergencyWork.py;." --add-data "D:/python/Create_work_krs/work_py/geophysic.py;." --add-data "D:/python/Create_work_krs/work_py/gnkt_frez.py;." --add-data "D:/python/Create_work_krs/work_py/gnkt_grp.py;." --add-data "D:/python/Create_work_krs/work_py/gnkt_grp_work.py;." --add-data "D:/python/Create_work_krs/work_py/gpp.py;." --add-data "D:/python/Create_work_krs/work_py/grp.py;." --add-data "D:/python/Create_work_krs/work_py/kompress.py;." --add-data "D:/python/Create_work_krs/work_py/leakage_column.py;." --add-data "D:/python/Create_work_krs/work_py/mkp.py;." --add-data "D:/python/Create_work_krs/work_py/mouse.py;." --add-data "D:/python/Create_work_krs/work_py/opressovka.py;." --add-data "D:/python/Create_work_krs/work_py/perforation.py;." --add-data "D:/python/Create_work_krs/work_py/raiding.py;." --add-data "D:/python/Create_work_krs/work_py/rationingKRS.py;." --add-data "D:/python/Create_work_krs/work_py/rgdVcht.py;." --add-data "D:/python/Create_work_krs/work_py/rir.py;." --add-data "D:/python/Create_work_krs/work_py/sand_filling.py;." --add-data "D:/python/Create_work_krs/work_py/swabbing.py;." --add-data "D:/python/Create_work_krs/work_py/template_without_skm.py;." --add-data "D:/python/Create_work_krs/work_py/template_work.py;." --add-data "D:/python/Create_work_krs/work_py/vp_cm.py;."  "main.py"
#          main.py

      - name: Upload artifact
        uses: actions/upload-artifact@v4
        with:
          name: zima
          path: dist/main.exe
